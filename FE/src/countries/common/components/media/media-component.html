<div class="media-container" *ngIf="status !== 'undefined'" [ngClass]="{ 'worksafe': board.ws_board === 1 }">
  <ng-container *ngIf="type === 'img'">
    <img #thumbnail *ngIf="status !== 'loaded'" [width]="media.w" [height]="media.h" [src]="srct" (viewport-visibility-change)="onViewportVisibilityChange($event)">
    <img *ngIf="status === 'loaded'" [width]="media.w" [height]="media.h" [src]="src">
  </ng-container>
  <ng-container *ngIf="type === 'video'">
    <video #video [width]="media.w" [height]="media.h" [poster]="srct" (viewport-visibility-change)="onViewportVisibilityChange($event)" controls>
      <source *ngIf="status === 'loaded'" [src]="src" type="video/webm">
    </video>
  </ng-container>
</div>